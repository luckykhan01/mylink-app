# AI Assistant API - –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é

## –ö–∞–∫ –∑–∞–ø—É—Å—Ç–∏—Ç—å –∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å API –±–µ–∑ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞

### 1. –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞

```bash
cd ai-assistent
source .venv/bin/activate  # –∏–ª–∏ .venv/bin/python
uvicorn main:app --host 0.0.0.0 --port 8000 --reload
```

### 2. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ curl

#### –ü–∞—Ä—Å–∏–Ω–≥ —Ä–µ–∑—é–º–µ:
```bash
curl -X POST http://localhost:8000/parse \
  -H "Content-Type: application/json" \
  -d '{"text":"–ê–ª–º–∞—Ç—ã, Backend 2 –≥–æ–¥–∞, FastAPI, –∞–Ω–≥–ª B2, 600000 KZT, —Ñ—É–ª–ª—Ç–∞–π–º", "kind":"cv"}'
```

#### –ü–∞—Ä—Å–∏–Ω–≥ –≤–∞–∫–∞–Ω—Å–∏–∏:
```bash
curl -X POST http://localhost:8000/parse \
  -H "Content-Type: application/json" \
  -d '{"text":"–ò—â–µ–º Backend –≤ –ê–ª–º–∞—Ç—ã, 3+ –≥–æ–¥–∞, Python/FastAPI, —Ñ—É–ª–ª—Ç–∞–π–º, 500-700 —Ç—ã—Å.", "kind":"vacancy"}'
```

#### –ê–Ω–∞–ª–∏–∑ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è:
```bash
curl -X POST http://localhost:8000/analyze \
  -H "Content-Type: application/json" \
  -d '{"cv_text":"–ê–ª–º–∞—Ç—ã, Backend 2 –≥–æ–¥–∞, FastAPI, –∞–Ω–≥–ª B2, 600000 KZT, —Ñ—É–ª–ª—Ç–∞–π–º", "vacancy_text":"–ò—â–µ–º Backend –≤ –ê–ª–º–∞—Ç—ã, 3+ –≥–æ–¥–∞, Python/FastAPI, —Ñ—É–ª–ª—Ç–∞–π–º, 500-700 —Ç—ã—Å."}'
```

#### –ß–∞—Ç —Å –∫–∞–Ω–¥–∏–¥–∞—Ç–æ–º:
```bash
curl -X POST http://localhost:8000/chat/turn \
  -H "Content-Type: application/json" \
  -d '{"session_id":"YOUR_SESSION_ID", "message_from_candidate":"–£ –º–µ–Ω—è –µ—Å—Ç—å –æ–ø—ã—Ç —Ä–∞–±–æ—Ç—ã —Å Python"}'
```

### 3. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç –¥–ª—è –ø–æ–ª–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –≤—Å–µ—Ö endpoints:

```bash
python test_api.py
```

### 4. Swagger UI

–û—Ç–∫—Ä–æ–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ: http://localhost:8000/docs

### 5. –î–æ—Å—Ç—É–ø–Ω—ã–µ endpoints

- `POST /parse` - –ü–∞—Ä—Å–∏–Ω–≥ —Ä–µ–∑—é–º–µ –∏–ª–∏ –≤–∞–∫–∞–Ω—Å–∏–∏
- `POST /analyze` - –ê–Ω–∞–ª–∏–∑ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è –∫–∞–Ω–¥–∏–¥–∞—Ç–∞ –∏ –≤–∞–∫–∞–Ω—Å–∏–∏
- `POST /chat/turn` - –ß–∞—Ç —Å –∫–∞–Ω–¥–∏–¥–∞—Ç–æ–º
- `GET /sessions/{session_id}` - –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Å–µ—Å—Å–∏–∏
- `GET /docs` - Swagger UI –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

### 6. –°–∏—Å—Ç–µ–º–∞ —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–æ–≥–æ –ø–æ–∏—Å–∫–∞ —Å Embeddings

API –∏—Å–ø–æ–ª—å–∑—É–µ—Ç OpenAI text-embedding-3-small –¥–ª—è —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–æ–≥–æ —Å–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏—è:

#### üß† –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:
- **Embeddings**: –í–µ–∫—Ç–æ—Ä–Ω—ã–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è —Ç–µ–∫—Å—Ç–∞ –¥–ª—è –ø–æ–Ω–∏–º–∞–Ω–∏—è —Å–º—ã—Å–ª–∞
- **–°–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ**: –°–∏—Å—Ç–µ–º–∞ –ø–æ–Ω–∏–º–∞–µ—Ç —Å–∏–Ω–æ–Ω–∏–º—ã –∏ –ø–æ—Ö–æ–∂–∏–µ –ø–æ–Ω—è—Ç–∏—è
- **–î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ —Å–∏–Ω–æ–Ω–∏–º—ã**: –ù–µ –Ω—É–∂–Ω–æ —Ö–∞—Ä–¥–∫–æ–¥–∏—Ç—å –≤—Å–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã
- **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ**: Embeddings —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞

#### üìä –ü—Ä–∏–º–µ—Ä—ã —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–æ–≥–æ —Å–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏—è:

**–¢–∏–ø—ã –∑–∞–Ω—è—Ç–æ—Å—Ç–∏:**
- `full-time` ‚Üî `—Ñ—É–ª–ª—Ç–∞–π–º` ‚Üî `–ø–æ–ª–Ω–∞—è –∑–∞–Ω—è—Ç–æ—Å—Ç—å` ‚Üî `–ø–æ–ª–Ω—ã–π —Ä–∞–±–æ—á–∏–π –¥–µ–Ω—å`
- `part-time` ‚Üî `–ø–∞—Ä—Ç—Ç–∞–π–º` ‚Üî `—á–∞—Å—Ç–∏—á–Ω–∞—è –∑–∞–Ω—è—Ç–æ—Å—Ç—å` ‚Üî `–Ω–µ–ø–æ–ª–Ω—ã–π —Ä–∞–±–æ—á–∏–π –¥–µ–Ω—å`
- `freelance` ‚Üî `—Ñ—Ä–∏–ª–∞–Ω—Å` ‚Üî `—É–¥–∞–ª–µ–Ω–Ω–∞—è —Ä–∞–±–æ—Ç–∞` ‚Üî `remote`

**–ü–æ–∑–∏—Ü–∏–∏:**
- `Backend Developer` ‚Üî `Backend` ‚Üî `–±—ç–∫–µ–Ω–¥` ‚Üî `backend —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫`
- `Frontend Developer` ‚Üî `Frontend` ‚Üî `—Ñ—Ä–æ–Ω—Ç–µ–Ω–¥` ‚Üî `frontend —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫`
- `Full Stack` ‚Üî `Fullstack` ‚Üî `—Ñ—É–ª–ª—Å—Ç–µ–∫` ‚Üî `full stack developer`

**–ì–æ—Ä–æ–¥–∞:**
- `Almaty` ‚Üî `–ê–ª–º–∞—Ç—ã` ‚Üî `–ê–ª–º–∞-–ê—Ç–∞`
- `Moscow` ‚Üî `–ú–æ—Å–∫–≤–∞` ‚Üî `–ú–°–ö`
- `Nur-Sultan` ‚Üî `–ê—Å—Ç–∞–Ω–∞` ‚Üî `Astana`

**–ù–∞–≤—ã–∫–∏:**
- `Python` ‚Üî `python` ‚Üî `–ø–∏—Ç–æ–Ω` ‚Üî `py`
- `JavaScript` ‚Üî `JS` ‚Üî `–¥–∂–∞–≤–∞—Å–∫—Ä–∏–ø—Ç`
- `FastAPI` ‚Üî `Fast API` ‚Üî `fast-api`

#### ‚öôÔ∏è –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏:
- **–ú–æ–¥–µ–ª—å**: OpenAI text-embedding-3-small
- **–ü–æ—Ä–æ–≥ —Å—Ö–æ–∂–µ—Å—Ç–∏**: 0.8 (–Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è)
- **–ö—ç—à**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ embeddings
- **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å**: –ë—ã—Å—Ç—Ä–æ–µ —Å–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ —Å –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ–º

### 7. –ü—Ä–∏–º–µ—Ä—ã –æ—Ç–≤–µ—Ç–æ–≤

#### –ü–∞—Ä—Å–∏–Ω–≥ —Ä–µ–∑—é–º–µ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç:
```json
{
  "candidate": {
    "city": "–ê–ª–º–∞—Ç—ã",
    "experience_years": 2.0,
    "position": "Backend",
    "skills": ["FastAPI"],
    "salary_expectation": 600000,
    "employment_type": "—Ñ—É–ª–ª—Ç–∞–π–º"
  }
}
```

#### –ê–Ω–∞–ª–∏–∑ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç:
```json
{
  "relevance_percent": 45,
  "reasons": ["–û–ø—ã—Ç –º–µ–Ω—å—à–µ —Ç—Ä–µ–±—É–µ–º–æ–≥–æ", "–ù–µ —Ö–≤–∞—Ç–∞–µ—Ç –Ω–∞–≤—ã–∫–æ–≤"],
  "followup_questions": ["–ú–æ–∂–µ—Ç–µ —Ä–∞—Å—Å–∫–∞–∑–∞—Ç—å –æ –≤–∞—à–µ–º –æ–ø—ã—Ç–µ?"],
  "session_id": "uuid-here"
}
```
